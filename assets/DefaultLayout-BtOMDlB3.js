import{d as S,_ as B,r as t,o as s,c,w as n,a as e,b as T,e as f,t as D,f as k,F as C,g as U,h as z,v as G,u as j,i as y,j as F,s as N,k as J,l as A,m as P,n as E,K as Q}from"./index-5kr0lnXv.js";import{u as H}from"./tabs-73Poqvt9.js";import{l as W}from"./logo-nDJS6iMc.js";const X=S({name:"MyMenu",props:{item:{type:Object,required:!0}},setup(){const o=H(),{addTab:u,setCurrentTab:m}=o;return{add:(l,_,a)=>{u(l,_,a),m(l,_)}}}});function Y(o,u,m,p,l,_){const a=t("el-icon"),d=t("my-menu"),v=t("el-sub-menu"),h=t("el-menu-item");return o.item.children?(s(),c(v,{key:0,index:o.item.url},{title:n(()=>[e(a,null,{default:n(()=>[(s(),c(T(o.item.icon)))]),_:1}),f("span",null,D(o.item.name),1)]),default:n(()=>[(s(!0),k(C,null,U(o.item.children,b=>(s(),c(d,{key:b.url,item:b},null,8,["item"]))),128))]),_:1},8,["index"])):z((s(),c(h,{key:1,index:o.item.url,onClick:u[0]||(u[0]=b=>o.add(o.item.name,o.item.url,o.item.icon))},{default:n(()=>[e(a,null,{default:n(()=>[(s(),c(T(o.item.icon)))]),_:1}),f("span",null,D(o.item.name),1)]),_:1},8,["index"])),[[G,o.item.name!="订单详情"]])}const Z=B(X,[["render",Y],["__scopeId","data-v-0acf00d9"]]),x={class:"logo"},ee=["src"],ne=S({__name:"Menu",setup(o){const m=j().menu;return(p,l)=>{const _=t("el-menu");return s(),k(C,null,[f("div",x,[f("img",{src:y(W),width:"34px",height:"34px"},null,8,ee),l[0]||(l[0]=f("h1",null,"动力港",-1))]),e(_,{router:!0,"default-active":p.$route.path},{default:n(()=>[(s(!0),k(C,null,U(y(m),a=>(s(),c(Z,{item:a,key:a.url},null,8,["item"]))),128))]),_:1},8,["default-active"])],64)}}}),te=B(ne,[["__scopeId","data-v-e4732fa6"]]),oe={class:"header"},ae={class:"personal"},se={class:"el-dropdown-link"},le=S({__name:"TopHeader",setup(o){const u=F(),m=j(),{username:p}=N(m),l=J(5),_=a=>{a=="user"?u.push("/personal"):(m.logout(),u.push("/login"))};return(a,d)=>{const v=t("Bell"),h=t("el-icon"),b=t("el-badge"),V=t("el-avatar"),I=t("arrow-down"),$=t("el-dropdown-item"),L=t("el-dropdown-menu"),M=t("el-dropdown");return s(),k("div",oe,[f("div",ae,[e(b,{"is-dot":l.value>0,class:"item"},{default:n(()=>[e(h,null,{default:n(()=>[e(v)]),_:1})]),_:1},8,["is-dot"]),e(V,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"ml mr"}),e(M,{onCommand:_},{dropdown:n(()=>[e(L,null,{default:n(()=>[e($,{icon:"User",command:"user"},{default:n(()=>d[0]||(d[0]=[A("个人中心")])),_:1}),e($,{icon:"SwitchButton",command:"logout"},{default:n(()=>d[1]||(d[1]=[A("退出登录")])),_:1})]),_:1})]),default:n(()=>[f("span",se,[A(" 欢迎你，"+D(y(p))+" ",1),e(h,{class:"el-icon--right"},{default:n(()=>[e(I)]),_:1})])]),_:1})])])}}}),ue=B(le,[["__scopeId","data-v-f2c11d51"]]),re={class:"custom-tabs-label"},ce=S({__name:"TabsLayout",setup(o){const u=H(),m=j(),{menu:p}=N(m),l=F(),_=P(),{tabs:a,currentTab:d}=N(u),{setCurrentTab:v,addTab:h,removeTab:b}=u;function V(r,g){for(const w of r){if(w.url===g)return w;if(w.children){const R=V(w.children,g);if(R)return R}}return null}const{name:I,url:$,icon:L}=V(p.value,_.path);h(I,$,L),v(I,$);const M=({index:r})=>{l.push(a.value[r].url),v(a.value[r].name,a.value[r].url)},K=r=>{b(r),l.push(d.value.url)};return(r,g)=>{const w=t("el-icon"),R=t("el-tab-pane"),O=t("el-tabs"),q=t("RouterView");return s(),k(C,null,[e(O,{modelValue:y(d).name,"onUpdate:modelValue":g[0]||(g[0]=i=>y(d).name=i),class:"demo-tabs",onTabClick:M,type:"card",closable:"",onTabRemove:K},{default:n(()=>[(s(!0),k(C,null,U(y(a),i=>(s(),c(R,{key:i.name,label:i.name,name:i.name},{label:n(()=>[f("span",re,[e(w,null,{default:n(()=>[(s(),c(T(i.icon)))]),_:2},1024),f("span",null," "+D(i.name),1)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),e(q,null,{default:n(({Component:i})=>[(s(),c(Q,null,[r.$route.meta.keepAlive?(s(),c(T(i),{key:r.$route.name})):E("",!0)],1024)),r.$route.meta.keepAlive?E("",!0):(s(),c(T(i),{key:r.$route.name}))]),_:1})],64)}}}),_e=B(ce,[["__scopeId","data-v-3fbfee21"]]),me=S({__name:"DefaultLayout",setup(o){return(u,m)=>{const p=t("el-aside"),l=t("el-header"),_=t("el-main"),a=t("el-container");return s(),c(a,null,{default:n(()=>[e(p,{width:"200px"},{default:n(()=>[e(te)]),_:1}),e(a,null,{default:n(()=>[e(l,null,{default:n(()=>[e(ue)]),_:1}),e(_,null,{default:n(()=>[e(_e)]),_:1})]),_:1})]),_:1})}}}),fe=B(me,[["__scopeId","data-v-8218bea2"]]);export{fe as default};
